function modifypasswordSubmit(){var e=$("#btnSubmit"),s=$("#oldpassword").val(),a=$("#password1").val(),r=$("#password2").val(),o=$("#errOldPassword"),d=$("#errPassword"),n=$("#errRepassword");e.attr("disabled",!0),e.removeClass(),e.addClass("reg_btn_disabled"),e.unbind("click");var t={accessCode:sdkConfigForSafeCenter.modifyPwdAccessCode,strategyCode:sdkConfigForSafeCenter.modifyPwdStrategyCode,oldPwd:s,newPwd:a,confirmPwd:r};CAccount.resetPwdBiz.modifyPwd(t,function(s){e.removeClass(),e.addClass("reg_btn"),e.attr("disabled",!1),e.bind("click",modifypasswordSubmit);var a=getSafeCenterMessage("modifypwdsdk");if(void 0===s||null==s)return n.removeClass(),n.addClass("base_error"),void errShow(n,!0,a[900]);if(0==s.returncode)n.removeClass(),n.addClass("base_success"),errShow(n,!0,a[s.returncode]),gotohomepage();else switch(s.returncode){case 10105:case 10106:case 10107:case 104:errShow(d,!0,getSafeCenterMessage("modifypwdsdk")[s.returncode]);break;case 10115:case 103:case 301:errShow(o,!0,getSafeCenterMessage("modifypwdsdk")[s.returncode]);break;case 10116:case 302:d.removeClass(),d.addClass("base_error"),errShow(n,!0,getSafeCenterMessage("modifypwdsdk")[s.returncode]);break;case 0:d.removeClass(),d.addClass("base_success"),errShow(n,!0,getSafeCenterMessage("modifypwdsdk")[s.returncode]),gotohomepage();break;default:d.removeClass(),d.addClass("base_error"),errShow(n,!0,a[s.returncode]||a[900])}})}function modifypasswordBindFocusEvent(){$("#oldpassword").bind("focus",function(){errShow($("#errOldPassword"),!1,"")})}function setMobileBindFocusEvent(){var e=$("#errphone"),s=$("#valcodetips");$("#mobilephone").bind("focus",function(){errShow(e,!1,"")}),$("#valcode").bind("focus",function(){errShow(s,!1,"")})}function countDownMobile(e,s,a){e.unbind("click"),countDown(s,function(){e.html("重发验证码"),e.attr("disabled",!1),e.bind("click",function(){a()})},e,"s")}function setMobileSendVCode(){var e=$("#sendvalcode"),s=$("#valcodetips"),a=$("#errslider"),r=$("#codeResult"),o=$("#mobilephone"),d=$("#slidetoken"),n=$("#slideversion"),t=$("#errphone"),i=r.val(),l=o.val(),c=d.val(),b=n.val(),C="86"===i?safecenterscenecodeList.setmobile_cn:safecenterscenecodeList.setmobile_itl;errShow(s,!1,""),e.unbind("click"),e.attr("disabled",!0),e.prop("title","");var m=registerInterval.mobile,u={countryCode:i,phoneNumber:l,sceneCode:C,businessSite:"",safeToken:c,sliderVersion:b,rmsToken:getRmsToken(),ext:getExtentionInfo("SMS-TOKEN-MOB")};CAccount.mobileValidateBiz.sendCodeByMobile(u,function(r){if(e.bind("click",setMobileSendVCode),e.attr("disabled",!1),void 0!==r&&null!=r){var o=r.returncode,d=getSafeCenterMessage("sendmobilevcodesdk");switch(o){case 10103:errShow(t,!0,d[o]);break;case 1006:errShow(s,!1,""),slidObj.refresh(),errShow(a,!0,d[o]);break;case 401:errShow(s,!0,d[o]),errShow(a,!1,"");break;case 402:errShow(s,!0,d[o]),e.prop("title","验证码获取次数已达上限"),errShow(a,!1,"");break;case 0:s.removeClass(),s.addClass("base_success"),errShow(s,!0,d[o]),errShow(a,!1,""),e.html(m+"s"),countDownMobile(e,m,setMobileSendVCode);break;default:s.removeClass(),s.addClass("base_error"),errShow(s,!0,d[o]||d[900]),errShow(a,!1,"")}}else errShow(s,!0,d[900]),errShow(a,!1,""),e.html(m+"s"),countDownMobile(e,m,setMobileSendVCode)})}function setMobileSubmit(){var e=$("#btnSetMobile"),s=$("#mobilephone").val(),a=$("#codeResult").val(),r=$("#valcode").val(),o=$("#errphone"),d=$("#valcodetips"),n=$("#errslider");e.attr("disabled",!0),e.removeClass(),e.addClass("reg_btn_disabled");var t={accessCode:sdkConfigForSafeCenter.bindMobileAccessCode,strategyCode:sdkConfigForSafeCenter.bindMobileStrategyCode,countrycode:a,mobile:s,verifyCode:r,ext:getExtentionInfo("")};CAccount.bindMobileBiz.bindOrRebindMobile(t,function(s){if(e.attr("disabled",!1),e.removeClass(),e.addClass("reg_btn"),void 0!==s&&null!=s){var a=s.returncode,r=getSafeCenterMessage("bindmobilesdk");switch(a){case 0:d.removeClass(),d.addClass("base_success"),errShow(d,!0,getSafeCenterMessage("bindmobilesdk")[a]),gotohomepage();break;case 110103:case 110104:case 10110:case 10112:case 1101:case 1201:case 303:case 305:errShow(o,!0,getSafeCenterMessage("bindmobilesdk")[a]);break;case 1102:case 1302:case 1900:case 302:case 102:d.removeClass(),d.addClass("base_error"),errShow(d,!0,getSafeCenterMessage("bindmobilesdk")[a]);break;default:d.removeClass(),d.addClass("base_error"),errShow(d,!0,r[a]||r[900])}}else errShow(n,!0,getSafeCenterMessage("bindmobilesdk")[900])})}function newSetMobileSubmit(){var e=$("#valcodetips"),s=$("#btnSetMobile");s.attr("disabled",!0),s.removeClass(),s.addClass("reg_btn_disabled");var a=function(){s.attr("disabled",!1),s.removeClass(),s.addClass("reg_btn"),e.removeClass(),e.addClass("base_success"),errShow(e,!0,"绑定成功"),gotohomepage()};checkPermissison(function(e){bindMobile(e,"NewBind",a)})}function bindMobile(e,s,a){var r="网络不给力,请稍候重试！",o="绑定失败",d=getQueryString("authtoken");void 0!==d&&null!=d||(d="");var n={operateType:s,token:e,platform:"PC",locale:"zh_CN",ext:{Platform:"P",UserAgent:navigator.userAgent,URL:document.URL,PageID:$("#page_id").val(),page_id:$("#page_id").val(),rmsToken:getRmsToken(),Referer:document.referrer,referer:document.referrer,Cookie:document.cookie,newValidate:"T",locale:"zh_cn",group:"ctrip",firstCode:d},AccountHead:{locale:"zh_CN",accessCode:"1AFB25DAC7A8B11E"}};CAccount.bindMobileBiz.newBindOrRebindMobile(n,function(e){if(void 0!==e&&null!=e)return 0!==e.returncode?(setSubmitBtnAble(),void valTipsErrorShow(o)):void a();valTipsErrorShow(r)})}function checkPermissison(e){var s={0:"手机绑定成功","-1":"操作失败，请重试（-1）",10103:"请输入手机号",10104:"请输入正确的手机号",10110:"操作失败，请重试（10110）",10112:"当前手机号已绑定其他携程帐号，您可以直接使用此手机号登录携程",101:"请输入手机号",102:"请输入验证码",201:"请输入正确的手机号",302:"您输入的验证码错误，请重试",303:"当前手机号已绑定其他携程帐号，您可以直接使用此手机号登录携程",304:"验证码已过期，请重新获取",1900:"操作失败，请重试（1900）",103:"操作失败，请重试（103）",104:"操作失败，请重试（104）",301:"操作失败，请重试（301）",500:"绑定失败，{1}注册的携程账号内还有未出行订单或一定数额的资产及积分。您可以使用该手机号短信验证登录原账号进行管理查看。",900:"网络不给力,请稍候重试！"},a=$("#mobilephone").val(),r=$("#codeResult").val(),o=$("#valcode").val(),d={countryCode:r,mobile:a,platform:"H5",verifyCode:o,locale:"zh_CN",ext:getExtenttionInfo_2()};CAccount.bindMobileBiz.checkBindPermisssion(d,function(o){if(void 0!==o&&null!=o){var d=o.returncode;if(0===d){var n=o.UID||o.uid;n==undefined||0==n.length?e(o.Token):(valTipsErrorShow(t="该手机号已经注册了其他携程账号，本次绑定将会导致之前的账号无法再使用手机号登录，是否选择<a id='continueBind'>继续绑定</a>"),$("#continueBind").bind("click",function(){e(o.Token)}))}else{if(setSubmitBtnAble(),500==d){var t=s[500];return a=(a=r+"-"+a).asterisk(),void valTipsErrorShow(t=t.replace("{1}",a))}valTipsErrorShow(t=s[d]||s[900])}}else valTipsErrorShow(s[900])})}function modifymobileSendVCodeSubmit(){var e=$("#mobilephone"),s=$("#errphone"),a=$("#codeResult"),r=$("#errslider"),o=$("#slidetoken"),d=$("#lpassword"),n=$("#errpassword"),t=$("#btnmodifymobileS"),i=d.val(),l=a.val(),c=e.val(),b=o.val(),C=$("#slideversion").val(),m="86"===l?safecenterscenecodeList.rebindmobile_cn:safecenterscenecodeList.rebindmobile_itl;t.attr("disabled",!0),t.removeClass(),t.addClass("reg_btn_disabled");registerInterval.mobile;var u="",f=Base64.encode("+"+l+"-"+c),g=function(e){if(t.attr("disabled",!1),t.removeClass(),t.addClass("reg_btn"),void 0!==e&&null!=e){var a=e.returncode;switch(a){case 10103:errShow(s,!0,getSafeCenterMessage("sendmobilevcodesdk")[a]);break;case 1006:slidObj.refresh(),errShow(r,!0,getSafeCenterMessage("sendmobilevcodesdk")[a]);break;case 401:errShow(r,!0,getSafeCenterMessage("sendmobilevcodesdk")[a]);break;case 402:errShow(r,!0,getSafeCenterMessage("sendmobilevcodesdk")[a]),obj.prop("title","验证码获取次数已达上限");break;case 0:r.removeClass(),r.addClass("base_success"),errShow(r,!0,getSafeCenterMessage("sendmobilevcodesdk")[a]);var o={nextpage:"/safecenter/modifymobile_s2?authtoken="+u+"&m="+f};location.href=o.nextpage;break;default:errShow(r,!0,getSafeCenterMessage("sendmobilevcodesdk")[a])}}else errShow(sliderobj,!0,getSafeCenterMessage("sendmobilevcodesdk")[900])},v={accessCode:sdkConfigForSafeCenter.userValidateByAuthAccessCode,strategyCode:sdkConfigForSafeCenter.userValidateByAuthStrategyCode,pwd:i};CAccount.pwdValidateBiz.authPwdValidate(v,function(e){t.attr("disabled",!1),t.removeClass(),t.addClass("reg_btn");var s=e.returncode;switch(s){case 0:u=e.token;var a={countryCode:l,phoneNumber:c,sceneCode:m,businessSite:"",safeToken:b,sliderVersion:C,rmsToken:getRmsToken(),ext:getExtentionInfo("SMS-TOKEN-MOB")};CAccount.mobileValidateBiz.sendCodeByMobile(a,g);break;default:errShow(n,!0,getSafeCenterMessage("uservlidatebyauthsdk")[s])}})}function modifymobileSendVCode_S2(){var e=$("#sendvalcode"),s=$("#valcodetips"),a=$("#errslider"),r=$("#codeResult"),o=$("#mobilephone"),d=$("#slidetoken"),n=$("#slideversion"),t=($("#errphone"),r.val()),i=o.val(),l=d.val(),c=n.val(),b="86"===t?safecenterscenecodeList.rebindmobile_cn:safecenterscenecodeList.rebindmobile_itl;errShow(s,!1,""),e.attr("disabled",!0),e.prop("title","");var C=registerInterval.mobile,m={countryCode:t,phoneNumber:i,sceneCode:b,businessSite:slideBizSite.rebindmobile2,safeToken:l,sliderVersion:c,rmsToken:getRmsToken(),ext:getExtentionInfo("SMS-TOKEN-MOB")};CAccount.mobileValidateBiz.sendCodeByMobile(m,function(r){if(e.attr("disabled",!1),void 0!==r&&null!=r){var o=r.returncode,d=getSafeCenterMessage("sendmobilevcodesdk");switch(o){case 1006:errShow(s,!1,""),slidObj.refresh(),errShow(a,!0,getSafeCenterMessage("sendmobilevcodesdk")[o]);break;case 401:s.removeClass("base_success"),s.addClass("base_error"),errShow(s,!0,getSafeCenterMessage("sendmobilevcodesdk")[o]),errShow(a,!1,"");break;case 402:s.removeClass("base_success"),s.addClass("base_error"),errShow(s,!0,getSafeCenterMessage("sendmobilevcodesdk")[o]),e.prop("title","验证码获取次数已达上限"),errShow(a,!1,"");break;case 0:s.removeClass(),s.addClass("base_success"),errShow(s,!0,getSafeCenterMessage("sendmobilevcodesdk")[o]),errShow(a,!1,""),e.html(C+"s"),countDownMobile(e,C,modifymobileSendVCode_S2);break;default:s.removeClass("base_success"),s.addClass("base_error"),errShow(s,!0,d[o]||d[900]),errShow(a,!1,"")}}else s.removeClass("base_success"),s.addClass("base_error"),errShow(s,!0,getSafeCenterMessage("sendmobilevcodesdk")[900]),errShow(a,!1,""),e.html(C+"s"),countDownMobile(e,C,modifymobileSendVCode_S2)})}function modifymobileValidateVCodeSubmit(){var e=$("#codeResult").val(),s=$("#mobilephone").val(),a=$("#valcode").val(),r=$("#valcodetips"),o=$("#errslider"),d=[{key:"firstCode",value:getQueryString("authtoken")}],n={accessCode:sdkConfigForSafeCenter.bindMobileAccessCode,strategyCode:sdkConfigForSafeCenter.rebindMobileStrategyCode,countrycode:e,mobile:s,verifyCode:a,ext:d.concat(getExtentionInfo(""))};CAccount.bindMobileBiz.bindOrRebindMobile(n,function(e){var s=getSafeCenterMessage("rebindmobilesdk");if(void 0===e||null==e)return r.removeClass(),r.addClass("base_error"),void errShow(r,!0,s[900]);var a=e.returncode;switch(a){case 10103:case 10104:case 10112:case 1101:case 1201:case 303:errShow(o,!0,getSafeCenterMessage("rebindmobilesdk")[a]);break;case 10102:case 1302:case 1900:r.removeClass(),r.addClass("base_error"),errShow(r,!0,getSafeCenterMessage("rebindmobilesdk")[a]);break;case 0:r.removeClass(),r.addClass("base_success"),errShow(r,!0,getSafeCenterMessage("rebindmobilesdk")[a]),gotohomepage();break;default:errShow(r,!0,s[a]||s[900])}})}function newModifymobileValidateVCodeSubmit(){var e=$("#valcodetips"),s=function(s){getSafeCenterMessage("rebindmobilesdk");e.removeClass(),e.addClass("base_success"),errShow(e,!0,"改绑成功，请留意修改支付预留手机"),gotohomepage()};checkPermissison(function(e){bindMobile(e,"ReBind",s)})}function unbindMobileSendVCode(){var e=$("#sendvalcode"),s=$("#valcodetips");errShow(s,!1,""),e.attr("disabled",!0),e.unbind("click"),e.prop("title","");var a=registerInterval.mobile,r={accessCode:sdkConfigForSafeCenter.sendAndValidateCodeByAuthAccessCode,strategyCode:sdkConfigForSafeCenter.sendMobileCodeByAuthStrategyCode,ext:getExtenttionInfo_2()};CAccount.mobileValidateBiz.sendMobileCodeByAuth(r,function(r){if(e.bind("click",unbindMobileSendVCode),e.attr("disabled",!1),void 0!==r&&null!=r){var o=r.returncode,d=getSafeCenterMessage("sendcodebyauthsdk");switch(o){case 301:case 302:s.removeClass(),s.addClass("base_error"),errShow(s,!0,getSafeCenterMessage("sendcodebyauthsdk")[o]);break;case 0:s.removeClass(),s.addClass("base_success"),errShow(s,!0,getSafeCenterMessage("sendcodebyauthsdk")[o]),e.unbind("click"),e.html(a+"s"),countDownMobile(e,a,unbindMobileSendVCode);break;default:s.removeClass(),s.addClass("base_error"),errShow(s,!0,d[o]||d[900])}}else errShow(s,!0,getSafeCenterMessage("sendcodebyauthsdk")[900]),e.unbind("click"),e.html(a+"s"),countDownMobile(e,a,unbindMobileSendVCode)})}function unbindMobileSubmit(){var e=$("#valcode").val(),s=$("#valcodetips"),a=$("#btnUnbindMobile");a.attr("disabled",!0),a.unbind("click");var r={accessCode:sdkConfigForSafeCenter.bindMobileAccessCode,strategyCode:sdkConfigForSafeCenter.unbindMobileStrategyCode,verifyCode:e,ext:getExtentionInfo("")};CAccount.bindMobileBiz.unbindMobile(r,function(e){if(a.attr("disabled",!1),a.bind("click",unbindMobileSubmit),void 0===e||null==e)return s.removeClass(),s.addClass("base_error"),void errShow(s,!0,getSafeCenterMessage("unbindmobilesdk")[900]);var r=e.returncode,o=getSafeCenterMessage("unbindmobilesdk");switch(r){case 0:s.removeClass(),s.addClass("base_success"),errShow(s,!0,getSafeCenterMessage("unbindmobilesdk")[r]),gotohomepage();break;default:s.removeClass(),s.addClass("base_error"),errShow(s,!0,o[r]||o[900])}})}function setEmailSendVCode(){var e=$("#email").val(),s=$("#erremailtips"),a=safecenterscenecodeList.setemail,r=$("#slidetoken").val(),o=$("#slideversion").val(),d=$("#errslider"),n=$("#valcodetips"),t=$("#sendemailvcode"),i=registerInterval.email;t.attr("disabled",!0),t.unbind("click");var l={email:e,sceneCode:a,business_site:"",safeToken:r,sliderVersion:o,rmsToken:getRmsToken(),ext:getExtentionInfo("")};CAccount.emailValidateBiz.sendCodeByEmail(l,function(e){t.bind("click",setEmailSendVCode),t.attr("disabled",!1);var a=getSafeCenterMessage("sendmessagebyemailsdk");if(void 0===e||null==e)return n.removeClass(),n.addClass("base_error"),void errShow(n,!0,a[900]);var r=e.returncode;switch(r){case 1006:slidObj.refresh(),errShow(d,!0,getSafeCenterMessage("sendmessagebyemailsdk")[r]);break;case 10101:case 10102:case 102:case 202:s.removeClass(),s.addClass("base_error"),errShow(s,!0,getSafeCenterMessage("sendmessagebyemailsdk")[r]);break;case 401:case 402:errShow(n,!0,getSafeCenterMessage("sendmessagebyemailsdk")[r]);break;case 0:n.removeClass(),n.addClass("base_success"),errShow(n,!0,getSafeCenterMessage("sendmessagebyemailsdk")[r]),t.unbind("click"),t.html(i+"s"),countDownMobile(t,i,setEmailSendVCode);break;default:errShow(n,!0,a[r]||a[900])}})}function setEmailSubmit(){var e=$("#email").val(),s=$("#erremailtips"),a=$("#emailvcode").val(),r=$("#valcodetips"),o={accessCode:sdkConfigForSafeCenter.bindEmailAccessCode,strategyCode:sdkConfigForSafeCenter.bindEmailStrategyCode,email:e,verifyCode:a,ext:getExtentionInfo("")};CAccount.bindEmailBiz.bindEmail(o,function(e){r.removeClass(),r.addClass("base_error");var a=getSafeCenterMessage("bindemailsdk");if(void 0!==e&&null!=e){var o=e.returncode;switch(o){case 110101:case 110102:case 1101:case 1201:case 1301:case 303:case 305:case 10114:errShow(s,!0,getSafeCenterMessage("bindemailsdk")[o]);break;case 1102:case 1301:case 1302:case 1303:errShow(r,!0,getSafeCenterMessage("bindemailsdk")[o]);break;case 0:r.removeClass(),r.addClass("base_success"),errShow(r,!0,getSafeCenterMessage("bindemailsdk")[o]),gotohomepage();break;default:errShow(r,!0,a[o]||a[900])}}else errShow(r,!0,a[900])})}function unbindEmailSendVCode(){var e=$("#valcodetips"),s=$("#sendvalcode"),a=registerInterval.email;s.unbind("click");var r={accessCode:sdkConfigForSafeCenter.sendAndValidateCodeByAuthAccessCode,strategyCode:sdkConfigForSafeCenter.sendEmailCodeByAuthStrategyCode,ext:getExtenttionInfo_2()};CAccount.emailValidateBiz.sendEmailCodeByAuth(r,function(r){s.bind("click",unbindEmailSendVCode);var o=getSafeCenterMessage("sendcodebyauthsdkemail");if(void 0!==r&&null!=r){var d=r.returncode;switch(d){case 301:case 302:e.removeClass(),e.addClass("base_error"),errShow(e,!0,getSafeCenterMessage("sendcodebyauthsdkemail")[d]);break;case 0:e.removeClass(),e.addClass("base_success"),errShow(e,!0,getSafeCenterMessage("sendcodebyauthsdkemail")[d]),s.unbind("click"),s.html(a+"s"),countDownMobile(s,a,unbindEmailSendVCode);break;default:e.removeClass(),e.addClass("base_error"),errShow(e,!0,o[d]||o[900])}}else errShow(e,!0,getSafeCenterMessage("sendcodebyauthsdkemail")[900]),s.unbind("click"),s.html(a+"s"),countDownMobile(s,a,unbindEmailSendVCode)})}function unbindEmailSubmit(){var e=$("#valcode").val(),s=$("#valcodetips"),a={accessCode:sdkConfigForSafeCenter.bindEmailAccessCode,strategyCode:sdkConfigForSafeCenter.unbindEmailStrategyCode,verifyCode:e,ext:getExtentionInfo("")};CAccount.bindEmailBiz.unbindEmail(a,function(e){s.removeClass(),s.addClass("base_error");var a=getSafeCenterMessage("unbindemailsdk");if(void 0!==e&&null!=e){var r=e.returncode;switch(r){case 0:s.removeClass(),s.addClass("base_success"),errShow(s,!0,getSafeCenterMessage("unbindemailsdk")[r]),gotohomepage();break;default:errShow(s,!0,a[r]||a[900])}}else errShow(s,!0,getSafeCenterMessage("unbindemailsdk")[900])})}function editEmailSendVcode(){unbindEmailSendVCode()}function modifyemailValidateCodeSubmit(){var e=$("#emailvcode").val(),s=$("#valcodetips"),a=$("#btneditemail"),r={accessCode:sdkConfigForSafeCenter.sendAndValidateCodeByAuthAccessCode,strategyCode:sdkConfigForSafeCenter.validateEmailCodeByAuthStrategyCode,code:e,ext:getExtenttionInfo_2()};a.removeClass(),a.addClass("reg_btn_disabled"),a.unbind("click");CAccount.emailValidateBiz.validateEmailCodeByAuth(r,function(e){a.removeClass(),a.addClass("reg_btn"),a.bind("click",modifyemailValidateCodeSubmit),s.removeClass(),s.addClass("base_error");var r=getSafeCenterMessage("validatecodebyauth");if(void 0!==e&&null!=e){var o=e.returncode;switch(o){case 0:s.removeClass(),s.addClass("base_success"),errShow(s,!0,getSafeCenterMessage("validatecodebyauth")[o]),location.href="/safecenter/editbindemail_s2?token="+e.token;break;default:errShow(s,!0,r[o]||r[900])}}else errShow(s,!0,getSafeCenterMessage("validatecodebyauth")[900])})}function modifyemailSendVCodeSubmit_2(){var e=$("#email").val(),s=$("#erremailtips"),a=safecenterscenecodeList.rebindemail_new,r=$("#slidetoken").val(),o=$("#slideversion").val(),d=$("#errslider"),n=$("#valcodetips"),t=$("#sendemailvcode"),i=registerInterval.email;t.attr("disabled",!0),t.unbind("click");var l={email:e,sceneCode:a,business_site:slideBizSite.rebindemail2,safeToken:r,sliderVersion:o,rmsToken:getRmsToken(),ext:getExtentionInfo("")};CAccount.emailValidateBiz.sendCodeByEmail(l,function(e){if(t.attr("disabled",!1),t.bind("click",modifyemailSendVCodeSubmit_2),void 0===e||null==e)return n.removeClass(),n.addClass("base_error"),void errShow(n,!0,getSafeCenterMessage("sendmessagebyemailsdk")[900]);var a=e.returncode,r=getSafeCenterMessage("sendmessagebyemailsdk");switch(a){case 1006:slidObj.refresh(),errShow(d,!0,getSafeCenterMessage("sendmessagebyemailsdk")[a]);break;case 10101:case 10102:case 102:case 202:s.removeClass(),s.addClass("base_error"),errShow(s,!0,getSafeCenterMessage("sendmessagebyemailsdk")[a]);break;case 401:case 402:n.removeClass(),n.addClass("base_error"),errShow(n,!0,getSafeCenterMessage("sendmessagebyemailsdk")[a]);break;case 0:n.removeClass(),n.addClass("base_success"),errShow(n,!0,getSafeCenterMessage("sendmessagebyemailsdk")[a]),t.html(i+"s"),countDownMobile(t,i,modifyemailSendVCodeSubmit_2);break;default:n.removeClass(),n.addClass("base_error"),errShow(n,!0,r[a]||r[900])}})}function modifyemailSubmit(){var e=getQueryString("token"),s=$("#email").val(),a=$("#erremailtips"),r=$("#emailvcode").val(),o=$("#valcodetips"),d=$("#btnModifyEmail");d.attr("disabled",!0),d.removeClass(),d.addClass("reg_btn_disabled"),d.unbind("click");var n={accessCode:sdkConfigForSafeCenter.bindEmailAccessCode,strategyCode:sdkConfigForSafeCenter.rebindEmailStrategyCode,oldEmailToken:e,email:s,verifyCode:r,ext:getExtentionInfo("")};CAccount.bindEmailBiz.rebindEmail(n,function(e){d.attr("disabled",!1),d.removeClass(),d.addClass("reg_btn"),d.bind("click",modifyemailSubmit);var s=getSafeCenterMessage("rebindemailsdk");if(void 0!==e&&null!=e){var r=e.returncode;switch(r){case 0:o.removeClass(),o.addClass("base_success"),errShow(o,!0,getSafeCenterMessage("rebindemailsdk")[r]),gotohomepage();break;case 110101:case 110102:case 1101:case 1201:errShow(a,!0,getSafeCenterMessage("rebindemailsdk")[r]);break;default:o.removeClass(),o.addClass("base_error"),errShow(o,!0,s[r]||s[900])}}else errShow(vcodetipobj,!0,getSafeCenterMessage("rebindemailsdk")[900])})}function gotohomepage(){setTimeout(function(){location.href="/safecenter/home"},1e3)}function checkSafePwd(e,s,a,r,o,d,n){var t=e.val(),i=s.val();return 0===t.length?(errShow(a,!0,getSafeCenterMessage("modifypwdsdk")[10105]),setPwdStrong(o,d,n,0),!1):checkIsPwd(t)?1003==window.pwdLevel(t)?(errShow(a,!0,getSafeCenterMessage("modifypwdsdk")[10107]),!1):(errShow(a,!1,""),0!==i.length&&i!==t?(errShow(r,!0,getSafeCenterMessage("modifypwdsdk")[10116]),!1):(errShow(r,!1,""),!0)):(errShow(a,!0,getSafeCenterMessage("modifypwdsdk")[10106]),!1)}function setSubmitBtnDisable(){var e=$("#btnSetMobile");e.attr("disabled",!0),e.removeClass(),e.addClass("reg_btn_disabled")}function setSubmitBtnAble(){var e=$("#btnSetMobile");e.attr("disabled",!1),e.removeClass(),e.addClass("reg_btn")}function valTipsErrorShow(e){var s=$("#valcodetips");s.removeClass("base_success"),s.addClass("base_error"),errShow(s,!0,e)}function getExtentionInfo(e){return"undefined"==e&&(e=""),[{key:"SceneType",value:e},{key:"Platform",value:"P"},{key:"UserAgent",value:navigator.userAgent},{key:"URL",value:document.URL},{key:"PageID",value:$("#page_id").val()},{key:"page_id",value:$("#page_id").val()},{key:"rmsToken",value:getRmsToken()},{key:"Referer",value:document.referrer},{key:"referer",value:document.referrer},{key:"Cookie",value:document.cookie}]}function getExtenttionInfo_2(){return{Platform:"P",UserAgent:navigator.userAgent,URL:document.URL,PageID:$("#page_id").val(),page_id:$("#page_id").val(),rmsToken:getRmsToken(),Referer:document.referrer,referer:document.referrer,Cookie:document.cookie,newValidate:"T",locale:"zh_cn",group:"ctrip"}}