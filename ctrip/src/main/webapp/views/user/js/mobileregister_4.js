function sendvalcode(e,s,o,r,a,l,c,n){var t=r.val(),i=a.val(),d=l.val(),u=c.val(),b="86"===t?scenecodeList.mainlandMobile_reg:scenecodeList.outsideMobile_reg,g=[{key:"SceneType",value:"SMS-REGIST-SITE"},{key:"Platform",value:"P"},{key:"page_id",value:"10320670270"},{key:"URL",value:document.URL},{key:"referer",value:document.referrer},{key:"UserAgent",value:navigator.userAgent}],h={countryCode:t,phoneNumber:i,sceneCode:b,businessSite:"",safeToken:d,sliderVersion:u,rmsToken:getRmsToken(),ext:g};errShow(s,!1,""),e.unbind("click"),e.addClass("disabled"),e.prop("title","");var m=registerInterval.mobile,k=function(t){if("undefined"!=typeof t&&null!=t){var i=t.returncode;switch(i){case 1006:errShow(s,!1,""),e.removeClass("disabled"),e.bind("click",function(){checkMobile(a,n,r)&&checkslider(o,l)&&sendvalcode(e,s,o,r,a,l,c,n)}),slidObj.refresh(),errShow(o,!0,getMessageTemplate("checkSliderResult").wrong);break;case 401:s.removeClass("base_success"),s.addClass("base_error"),errShow(s,!0,getMessageTemplate("sendValcodeResult").often),e.removeClass("disabled"),e.bind("click",function(){checkMobile(a,n,r)&&checkslider(o,l)&&sendvalcode(e,s,o,r,a,l,c,n)}),errShow(o,!1,"");break;case 402:s.removeClass("base_success"),s.addClass("base_error"),errShow(s,!0,getMessageTemplate("sendValcodeResult").over),e.prop("title","验证码获取次数已达上限"),e.removeClass("disabled"),e.bind("click",function(){checkMobile(a,n,r)&&checkslider(o,l)&&sendvalcode(e,s,o,r,a,l,c,n)}),errShow(o,!1,"");break;case 0:s.removeClass("base_error"),s.addClass("base_success"),errShow(s,!0,getMessageTemplate("sendValcodeResult").success),errShow(o,!1,""),e.html(m+"s"),countDown(1,function(){countDownMobile(e,s,o,m,r,a,l,c,n)});break;default:s.removeClass("base_success"),s.addClass("base_error"),errShow(s,!0,getMessageTemplate("sendValcodeResult").fail),errShow(o,!1,""),e.html(m+"s"),countDown(1,function(){countDownMobile(e,s,o,m,r,a,l,c,n)})}}else s.removeClass("base_success"),s.addClass("base_error"),errShow(s,!0,getMessageTemplate("sendValcodeResult").fail),errShow(o,!1,""),e.html(m+"s"),countDown(1,function(){countDownMobile(e,s,o,m,r,a,l,c,n)})};CRegist.mobileValidateBiz.sendCodeByMobile(h,k)}function countDownMobile(e,s,o,r,a,l,c,n,t){countDown(r,function(){e.html("重发验证码"),e.removeClass("disabled"),e.bind("click",function(){checkMobile(l,t,a)&&checkslider(o,c)&&sendvalcode(e,s,o,a,l,c,n,t)})},e,"s")}function agreeStatus(e,s,o,r,a,l,c){s?(e.removeClass("reg_btn_disabled"),e.addClass("reg_btn"),e.bind("click",function(){checkMobile(l,o,a)&&checkValcodeFormat(r,c)&&checkValcode(o,r,a,l,c)})):(e.removeClass("reg_btn"),e.addClass("reg_btn_disabled"),e.unbind("click"))}function checkValcode(e,s,o,r,a,l){var c=o.val(),n=r.val(),t=a.val(),i=function(o){if("undefined"!=typeof o&&null!=o){var r=o.returncode;switch(r){case 0:if("undefined"!=typeof o.UID&&null!=o.UID&&""!=o.UID){var a=getMessageTemplate("checkValcodeResult").registeredM.replace(/loginurl/,getLoginUrl());errShow(e,!0,a)}else{var t=(c+"-"+n).asterisk(),i=Base64.encode(t);window.location.href=null!=l&&l.length>0?"../reg/setpwd?mobile="+i+"&token="+o.Token+"&backurl="+encodeURIComponent(l):"../reg/setpwd?mobile="+i+"&token="+o.Token}break;default:s.removeClass("base_success"),s.addClass("base_error"),errShow(s,!0,getMessageTemplate("checkValcodeResult").wrong)}}else s.removeClass("base_success"),s.addClass("base_error"),errShow(s,!0,getMessageTemplate("checkValcodeResult").wrong)};CRegist.mobileValidateBiz.validateMobileCode(c,n,tickettypeList.mobileRegister,t,i)}function registerBox(e){e.registAgreement(function(){},function(){var e=document.referrer;location.href=e.length>0&&e.indexOf("/user/reg/home")<=0?e:"http://www.ctrip.com?from=reg"},!0)}
//# sourceMappingURL=mobileregister.js.4953c48e.map